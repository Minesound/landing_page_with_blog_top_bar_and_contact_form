---
import Layout from '../layouts/BaseLayout.astro';

let title = "Hi there, I'm Stefen ðŸ˜ƒ";
let description = 'Hey there! Thanks for stopping by, how can I help ya today?';
let permalink = 'https://stefenphelps.com/';
---

<Layout {title} {description} {permalink}>
	<article class="home">
		<div class="home-text">
			<h1 class="h2">
				I'm Stefen, lead engineer at <a href="https://www.kelp.agency">Kelp</a>, Florida man, and
				ardent techno geek.
			</h1>
			<p>
				I had a majestic mustache for a hot minute... but had to shave it off for the sake of my
				marriage. Now, I enjoy having lots of different mustaches in the metaverse instead.
			</p>
		</div>
		<div class="home-image">
			<img
				class="home-image-stache"
				src="/mustaches/1.svg"
				alt="Generated mustache"
				width="700"
				height="700"
			/>
			<picture class="home-image-picture">
				<source
					type="image/svg+xml"
					srcset="/mustache-face.svg"
					alt="Stefen's Mustache Face"
					width="700"
					height="700"
				/>
				<source
					type="image/webp"
					srcset="/mustache-face.webp"
					alt="Stefen's Mustache Face"
					width="700"
					height="700"
				/>
				<img width="700" height="700" src="/mustache-face.png" alt="Stefen's Mustache Face" />
			</picture>
			<button class="button">Generate Mustache</button>
		</div>
	</article>
	<script>
		var button = document.querySelector('button');
		var mustacheImg = document.querySelector('.home-image-stache');
		var mustaches = Array.from(Array(60).keys());
		button.addEventListener('click', function () {
			var randomStache = mustaches[Math.floor(Math.random() * mustaches.length)] + 1;
			mustacheImg.style.display = 'block';
			mustacheImg.src = '/mustaches/' + randomStache + '.svg';
		});
	</script>
</Layout>

<style lang="scss">
	html body {
		grid-template-columns: 1fr min(70rem, 90%) 1fr;
	}
	.home {
		display: flex;
		flex-wrap: wrap;
		gap: 2rem;
		align-items: center;
		margin-top: 4rem;
		&-image {
			flex: 1 1 230px;
			position: relative;
			text-align: center;
			aspect-ratio: 1 / 1;
			&-picture {
				opacity: 0.7;
				aspect-ratio: 1 / 1;
				img {
					aspect-ratio: 1 / 1;
				}
			}
			&-stache {
				position: absolute;
				top: 52%;
				left: 48%;
				transform: translate(-50%, 0);
				width: 50%;
				display: none;
				pointer-events: none;
			}
		}
		&-text {
			flex: 1 1 400px;
		}
	}
</style>
